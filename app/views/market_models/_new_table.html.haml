%table.table.interactions
  %thead
    %th{data: {header: 'stakeholder_from' }} Stakeholder from
    %th{data: {header: 'stakeholder_to' }} Stakeholder to
    %th{data: {header: 'foundation' }} Foundation
    %th{data: {header: 'measure' }} Measure
    %th.tariff-type{data: {header: 'tariff_type' }} Tariff Type
    %th.col-sm-2{data: {header: 'tariff' }} Tariff
    %th
    %th
  %tbody
    - @market_model.interactions.each do |interaction|
      %tr
        %td.editable.select
          %select.form-control
            = stakeholder_options(selected: interaction["stakeholder_from"])

        %td.editable.select
          %select.form-control
            = stakeholder_options(selected: interaction["stakeholder_to"])

        %td.editable.select
          %select.form-control
            = foundation_options(selected: interaction["foundation"])

        %td.editable.select
          %select.form-control
            = measure_options(selected: interaction["measure"])

        %td.editable.tariff-type
          %input{ name: "tariff_type", type: "hidden", value: interaction["tariff_type"].presence || 'fixed' }

        %td.editable.input-switch{data: {price: interaction["tariff"]}}
          .input-group
            .input-group-btn
              %button.btn.btn-default.dropdown-toggle{"aria-expanded" => "false", "aria-haspopup" => "true", "data-toggle" => "dropdown", :type => "button"}
                %span.glyphicon.glyphicon-euro
                %span.caret
              %ul.dropdown-menu
                %li
                  %a{:href => "#", 'data-type' => 'fixed'}
                    %span.glyphicon.glyphicon-euro
                    Fixed price
                %li
                  %a{:href => "#", 'data-type' => 'curve'}
                    %span.glyphicon.glyphicon-signal
                    Financial profile

            .fixed-tariff
              %input.form-control
            .curve-tariff
              %select.form-control
                = financial_profile_options

        %td
          = link_to "#", class: "add-row text-success" do
            %span.glyphicon.glyphicon-plus
        %td
          = link_to "#", class: "remove-row text-danger" do
            %span.glyphicon.glyphicon-remove

